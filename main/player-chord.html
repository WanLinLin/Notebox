<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

  <!-- Less -->
  <link rel="stylesheet/less" type="text/css" href="css/player.less">
  <!-- <link rel="stylesheet" type="text/css" href="css/player.css"> -->
</head>

<body>
  <!--============================
  =            Navbar            =
  =============================-->
  <div class="navbar-fixed">
    <nav>
      <div class="mao-navbar nav-wrapper">
        <div class="row">
          <div class="col s10 push-s1 pull-s1">
            <a href="#" class="brand-logo left">NoteBox</a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
              <li><a href="#">關於貓耳朵</a></li>
              <li><a href="#"><i class="fa fa-music"> 曲目總覽</i></a></li>
              <li><a href="#"><i class="fa fa-plus"> 新增樂曲</i></a></li>
              <li><a class="dropdown-button" href="#" data-activates="user-login-info"><i class="fa fa-user"> 小埋</i></a></li>
              <ul id="user-login-info" class="dropdown-content">
                <li><a href="#">個人資料</a></li>
                <li><a href="#">我的收藏</a></li>
                <li><a href="#">樂曲管理</a></li>
                <li class="divider"></li>  
                <li><a href="#">登出</a></li>
              </ul>
              <!-- <li><a href="#" class="btn mao-simple-btn">登入</a></li> -->
            </ul>    
          </div>
        </div>
      </div>
    </nav>
  </div>
  <!--====  End of Navbar  ====-->
  
  <!--===============================
  =            Container            =
  ================================-->
  <div class="mao-main-wrapper">
    <!--==================================
    =         test chords input          =
    ===================================-->
    <div class="row mao-player-wrapper">
      <form class="col s10 push-s1 pull-s1" action="">
        <div class="row" align="center">
          <div class="input-field col s12">
            <textarea id="textarea1" class="materialize-textarea"></textarea>
            <label for="textarea1">input chords</label>
          </div>

          <button class="btn waves-effect waves-light" type="submit" name="action">Submit</button>
        </div>
      </form>
    </div>

    <!--==================================
    =            Video & Note            =
    ===================================-->
    <div class="row mao-player-wrapper">
      <div class="col s10 push-s1 pull-s1">
        <div class="section row" style="margin-bottom: 0;">
          <!-- Video -->
          <div class="col s7 white-text mao-video-info">
            <div class="section">
              <div class="video-container">
                <iframe width="420" height="315" src="https://www.youtube.com/embed/q6EoRBvdVPQ" frameborder="0" allowfullscreen></iframe>
              </div>
            </div>
            <a class="btn mao-simple-btn">AB 段重複</a>
            <a class="btn mao-simple-btn">影片速度</a>
            <!-- Video Short Info -->
            <div class="divider"></div>
            <div class="section">
              <!-- Info below -->
              <h5 style="display: inline;">影片標題</h5> 
              <blockquote class="mao-blockquote">
                <h6>歌曲難度</h6>
                <p>
                  <div class="chip mao-chip">C</div>
                  <div class="chip mao-chip">D</div>
                  <div class="chip mao-chip">E</div>
                  <div class="chip mao-chip">F</div>
                  <div class="chip mao-chip">G</div>
                  <div class="chip mao-chip">A</div>
                  <div class="chip mao-chip">B</div>
                </p>
              </blockquote>
              <!-- Buttons -->
              <a class="btn modal-trigger mao-simple-btn"  href="#modal1"><i class="fa fa-check"></i> 演奏訣竅</a>
              <a class="btn mao-simple-btn"><i class="fa fa-heart-o"></i></a>
              <a class="btn mao-simple-btn"><i class="fa fa-facebook"></i></a>
              <a class="btn mao-simple-btn"><i class="fa fa-bug"></i></a>  
            </div>
          </div>
          <!-- Note -->
          <div class="col s5 center-align card mao-music-sheet-wrapper">
            <!-- Note box -->
            <div class="row mao-music-sheet-box">
              <!-- Tabs -->
              <div class="col s12">
                <ul class="tabs">
                  <li class="tab col s3"><a href="#type1_note">鋼琴譜</a></li>
                  <li class="tab col s3"><a href="#type2_note">吉他譜</a></li>
                </ul>
              </div>
              <!-- Tab content -->
              <div id="type1_note" class="col s12 mao-tab-content">
                <canvas id="mao-piano-music-sheet" width="600" height="200"></canvas>
              </div>
              <div id="type2_note" class="col s12 mao-tab-content">
                <canvas id="mao-guitar-music-sheet" width="600" height="200"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--====  End of Video & Note  ====-->

    <!--=====================================
    =            Video more info            =
    ======================================-->
    <div class="row">
      <!-- Description -->
      <div class="col s10 push-s1 pull-s1">
        <h4>樂曲故事</h4>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quidem aliquid, fuga natus maiores, quos iusto, omnis est corporis possimus, animi earum dicta. Voluptate et, delectus totam facere odit, obcaecati fugit?</p>
      </div>
    </div>
    <!--====  End of Video more info  ====-->

    <!--=================================
    =            Playing Tips           =
    ==================================-->
    <div id="modal1" class="modal modal-fixed-footer">
      <div class="modal-content">
        <h4>教學及演奏訣竅</h4>
          <div class="divider"></div>
          <p>
            <div class="row valign-wrapper">
              <div class="col l7">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eum ratione rem, sunt possimus eius cupiditate vel numquam reprehenderit voluptas! Voluptatem similique quidem repellat repudiandae ullam minima enim iure assumenda placeat!
              </div>
              <div class="col l5">
                <img class="responsive-img" src="http://placehold.it/350x150" alt="">
              </div>
            </div>
          </p>
          <p>
            <blockquote>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad, itaque ab! Eveniet corporis temporibus suscipit veniam, quibusdam repellendus fugiat facere, magni nostrum minima, sit assumenda, distinctio! Itaque consectetur sapiente voluptates.
            </blockquote>
          </p>
          <div class="section">
            <p>
              <i class="fa fa-check"></i>
              <span>Totam accusantium velit optio impedit, aliquam.</span>
            </p>
            <p>
              <i class="fa fa-times"></i>
              <span>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</span>
            </p>
            <p>
              <i class="fa fa-ban"></i>
              <span>Aspernatur optio molestiae cupiditate?</span>
            </p>
          </div>
          
          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Libero, excepturi ullam alias, perspiciatis necessitatibus illo animi repudiandae laborum eveniet numquam esse voluptas incidunt ut id, iure veniam error earum. Qui.</p>
      </div>
      <div class="modal-footer">
        <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">OK!</a>
      </div>
    </div>
    <!--====  End of Playing Tips ====-->
  
    <!--==========================================
    =            Comment and Feedback            =
    ===========================================-->
    <div class="row">
      <div class="col s8 push-s1 pull-s1">
        <div class="section">
          <h4>留言與回饋</h4>
          <div class="divider"></div>
          <p>
            <ul class="collection mao-comment-list">
              <li class="collection-item avatar">
                <img src="img/ph.png" alt="" class="circle">
                <span class="title">Bowan Kuo</span>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perspiciatis numquam eaque mollitia quos eveniet molestiae ex possimus iusto recusandae commodi, dolores aliquam vero officia temporibus, eligendi, id laudantium quibusdam distinctio?</p>
              </li>
              <li class="collection-item avatar">
                <img src="img/ph.png" alt="" class="circle">
                <span class="title">Yu Shan Zay</span>
                <p><span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptate quisquam expedita dolores ducimus, cum assumenda eaque dolor at, magni odio inventore.</span></p>
              </li>
              <li class="collection-item avatar">
                <img src="img/ph.png" alt="" class="circle">
                <span class="title">Wu Wang Wu</span>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perspiciatis numquam eaque mollitia quos eveniet molestiae ex possimus iusto recusandae commodi, dolores aliquam vero officia temporibus, eligendi, id laudantium quibusdam distinctio?</p>
              </li>
            </ul>
          </p>
        </div>
      </div>
    </div>
    <!--====  End of Comment and Feedback  ====-->

    <!--====================================
    =            Recommanded Songs         =
    =====================================-->
    <div class="row">
      <div class="col s10 push-s1 pull-s1">
        <div class="section">
          <h4>我們也推薦</h4>
          <div class="row">
            <div class="col l4 s12">
              <div class="card">
                <div class="card-image"><img src="http://placehold.it/350x150" alt=""></div>
                <div class="card-content">Quis unde illum accusamus</div>
              </div>
            </div>
            <div class="col l4 s12">
              <div class="card">
                <div class="card-image"><img src="http://placehold.it/350x150" alt=""></div>
                <div class="card-content">voluptatum alias aperiam</div>
              </div>
            </div>
            <div class="col l4 s12">
              <div class="card">
                <div class="card-image"><img src="http://placehold.it/350x150" alt=""></div>
                <div class="card-content">perferendis harum blanditiis</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--====  End of Recommanded Songs  ====-->

  </div>
  <!--====  End of Container  ====-->


  <!--============================
  =            Footer            =
  =============================-->
  <footer class="mao-page-footer page-footer">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">Mao Er Duo</h5>
          <p class="grey-text text-lighten-4">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nobis accusamus consequatur labore, facilis corporis consequuntur praesentium debitis veniam enim, iure aperiam ut perferendis natus itaque, eos ipsa odio numquam sed.
          </p>
        </div>
        <div class="col l6 s12">
          <h5 class="white-text">Connection</h5>
          <span><a class="btn-floating btn-large waves-effect waves-light"><i class="fa fa-google-plus"></i></a></span>
          <span><a class="btn-floating btn-large waves-effect waves-light"><i class="fa fa-facebook"></i></a></span>
          <span><a class="btn-floating btn-large waves-effect waves-light"><i class="fa fa-twitter"></i></a></span>
          <span><a class="btn-floating btn-large waves-effect waves-light"><i class="fa fa-comments"></i></a></span>
        </div>
      </div>
    </div>
    <div class="mao-page-footer-copyright footer-copyright">
      <div class="container">
        © Mao Er Duo 2014 Copyright Text
      </div>
    </div>
  </footer>
  <!--====  End of Footer  ====-->
  
  
  <!--================================
  =            JavaScript            =
  =================================-->
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script type="text/javascript" src="js/materialize.min.js"></script>
  <script type="text/javascript" src="js/bower_components/less/dist/less.min.js"></script>
  <script type="text/javascript" src="js/node_modules/vexflow/releases/vexflow-min.js"></script>
  <script type="text/javascript" src="js/vextab/releases/vextab-div.js"></script>

  <script type="text/javascript">

  $(document).ready(function(){
    // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
    initModal();
    initNotebox();
  });

  /*=====================================
  =            Modal Handler            =
  =====================================*/
  function initModal() {
    $('.modal-trigger').leanModal();
  }
  /*=====  End of Modal Handler  ======*/


  /*=======================================
  =            note box height            =
  =======================================*/
  function initNotebox() {
    // Get height
    var height = $("div.mao-video-info").height();
    $("div.mao-music-sheet-box").height(height);
  }
  /*=====  End of note box height  ======*/
  
  

  /*=============================================
  =       Piano Music Notation Rendering        =
  =============================================*/
  // Init
  var pianoCanvas = $("#mao-piano-music-sheet")[0];
  var pianoRenderer = new Vex.Flow.Renderer(pianoCanvas,
    Vex.Flow.Renderer.Backends.CANVAS);

  var pianoCtx = pianoRenderer.getContext();
  var stave = new Vex.Flow.Stave(10, 0, 580);
  stave.addClef("treble").setContext(pianoCtx).draw();

  // Create the notes
  var notes = [
    // A quarter-note C.
    new Vex.Flow.StaveNote({ keys: ["c/4"], duration: "q" }),

    // A quarter-note D.
    new Vex.Flow.StaveNote({ keys: ["d/4"], duration: "q" }),

    // A quarter-note rest. Note that the key (b/4) specifies the vertical
    // position of the rest.
    new Vex.Flow.StaveNote({ keys: ["b/4"], duration: "qr" }),

    // A C-Major chord.
    new Vex.Flow.StaveNote({ keys: ["c/4", "e/4", "g/4"], duration: "q" })
  ];

  // Create a voice in 4/4
  var voice = new Vex.Flow.Voice({
    num_beats: 4,
    beat_value: 4,
    resolution: Vex.Flow.RESOLUTION
  });

  // Add notes to voice
  voice.addTickables(notes);

  // Format and justify the notes to 500 pixels
  var formatter = new Vex.Flow.Formatter().
    joinVoices([voice]).format([voice], 500);

  // Render voice
  voice.draw(pianoCtx, stave);
  
  
  /*=====  End of Music Notation Rendering  ======*/



  /*=============================================
  =       Guitar Music Notation Rendering       =
  =============================================*/

  // Load VexTab module.
  vextab = require("vextab");

  VexTab = vextab.VexTab;
  Artist = vextab.Artist;
  Renderer = vextab.Vex.Flow.Renderer;

  // Create VexFlow Renderer from canvas element with id #boo.
  renderer = new Renderer($('#mao-guitar-music-sheet')[0], Renderer.Backends.CANVAS);

  // Initialize VexTab artist and parser.
  artist = new Artist(10, 10, 600, {scale: 0.8});
  vextab = new VexTab(artist);

  try {
    // Parse VexTab music notation passed in as a string.
    vextab.parse("tabstave notation=true\n notes :q 4/4\n")

    // Render notation onto canvas.
    artist.render(renderer);
  } catch (e) {
    console.log(e);
  }

  /*=====  End of Music Notation Rendering  ======*/

  </script>

</body>
</html>